{"ast":null,"code":"import React from'react';import{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Link}from'react-router-dom';import'./cartpage.css';//Component\nimport CartItem from'../../components/cartItem/CartItem';//Actions\nimport{addToCart,addToServiceCart,removeFromCart}from'../../redux/actions/cartActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Cartpage=function Cartpage(){var dispatch=useDispatch();var cart=useSelector(function(state){return state.cart;});var cartItems=cart.cartItems;// console.log(cartItems);\nvar qtyChangeHandler=function qtyChangeHandler(id,qty){cartItems.map(function(item){return item.product===id?dispatch(addToCart(id,qty)):item.service===id?dispatch(addToServiceCart(id,qty)):console.log(\"Success\");});};var removeCartItem=function removeCartItem(id){dispatch(removeFromCart(id));};var getCartCount=function getCartCount(){return cartItems.reduce(function(qty,item){return Number(item.qty)+qty;},0);};var getCartSubTotal=function getCartSubTotal(){var priceItem=cartItems.reduce(function(price,item){return item.product?price>1000&&price<=5000?price=price+(item.price+item.price*0.12)*item.qty:price>5000?price=price+(item.price+item.price*0.18)*item.qty:price=price+(item.price+200)*item.qty:price>1000&&price<=8000?price=price+(item.price+item.price*0.1)*item.qty:price>8000?price=price+(item.price+item.price*0.15)*item.qty:price=price+(item.price+100)*item.qty;},0);return priceItem;};return/*#__PURE__*/_jsxs(\"div\",{className:\"cartscreen\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cartscreen_left\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Shopping Cart\"}),cartItems.length===0?/*#__PURE__*/_jsxs(\"div\",{children:[\"Your Cart Is Empty \",/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Go Back\"})]}):cartItems.map(function(item){return/*#__PURE__*/_jsx(CartItem,{item:item,qtyChangeHandler:qtyChangeHandler,removeCartItem:removeCartItem});})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cartscreen_right\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cartscreen_info\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"INVOICE\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total Quantity : \",getCartCount()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price (Including all the taxes): \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\"$\",getCartSubTotal().toFixed(2)]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{children:\"Proceed To Checkout\"})})]})]});};export default Cartpage;","map":{"version":3,"names":["React","useState","useDispatch","useSelector","Link","CartItem","addToCart","addToServiceCart","removeFromCart","jsx","_jsx","jsxs","_jsxs","Cartpage","dispatch","cart","state","cartItems","qtyChangeHandler","id","qty","map","item","product","service","console","log","removeCartItem","getCartCount","reduce","Number","getCartSubTotal","priceItem","price","className","children","length","to","toFixed"],"sources":["E:/Myweb/Digital_invoice/client/src/pages/cartpage/Cartpage.jsx"],"sourcesContent":["import React from 'react'\r\nimport { useState } from 'react'\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport './cartpage.css'\r\n\r\n//Component\r\nimport CartItem from '../../components/cartItem/CartItem'\r\n\r\n//Actions\r\nimport { addToCart, addToServiceCart, removeFromCart } from '../../redux/actions/cartActions'\r\n\r\nconst Cartpage = () => {\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector(state => state.cart);\r\n  const { cartItems } = cart;\r\n\r\n  // console.log(cartItems);\r\n  const qtyChangeHandler = (id,qty) =>{\r\n    cartItems.map((item)=> item.product === id ? dispatch(addToCart(id,qty)) : item.service === id ? dispatch(addToServiceCart(id,qty)): console.log(\"Success\") );\r\n  }\r\n  const removeCartItem = (id) => {\r\n    dispatch(removeFromCart(id));\r\n  };\r\n\r\n  const getCartCount = () =>{\r\n    return cartItems.reduce((qty,item)=> Number(item.qty) + qty, 0);\r\n  };\r\n\r\n  const getCartSubTotal = () =>{\r\n    let priceItem = cartItems.reduce(\r\n      (price,item) => item.product \r\n      ? price > 1000 && price <=5000 \r\n       ? price = price+ (item.price +  item.price*0.12)*(item.qty)\r\n       : price > 5000 \r\n       ?\r\n       price = price+ (item.price +  item.price*0.18)*(item.qty)\r\n       :\r\n       price = price+ (item.price +  200)*(item.qty)\r\n      : \r\n       price > 1000 && price <=8000 \r\n        ? price =  price+(item.price +  item.price*0.1)*(item.qty)\r\n        : price > 8000 \r\n        ?\r\n        price = price+ (item.price +  item.price*0.15)*(item.qty)\r\n        :\r\n        price = price+ (item.price +  100)*(item.qty)\r\n      ,0);\r\n    return priceItem\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='cartscreen'>\r\n      <div className='cartscreen_left'>\r\n        <h2>Shopping Cart</h2>\r\n        {cartItems.length === 0 ? (\r\n            <div>\r\n              Your Cart Is Empty <Link to=\"/\">Go Back</Link>\r\n            </div>\r\n          ) : (\r\n            cartItems.map((item) => (\r\n              <CartItem\r\n                item={item}\r\n                qtyChangeHandler = {qtyChangeHandler}\r\n                removeCartItem = {removeCartItem}\r\n              />\r\n            ))\r\n          )}\r\n      </div>\r\n      <div className='cartscreen_right'>\r\n        <div className=\"cartscreen_info\">\r\n          <p>INVOICE</p>\r\n          <p>Total Quantity : {getCartCount()}</p>\r\n          <p>Price (Including all the taxes): <br/> <br />${getCartSubTotal().toFixed(2)}</p>\r\n        </div>\r\n        <div>\r\n          <button>Proceed To Checkout</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Cartpage\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}