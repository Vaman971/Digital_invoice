{"ast":null,"code":"import _regeneratorRuntime from\"E:/Myweb/Digital_invoice/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/Myweb/Digital_invoice/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";// here we'll make the http request to our backend to get the product details and add it to the cart\nimport*as actionTypes from'../constants/cartConstants';import axios from'axios';// will help us make our ajax requests\nexport var addToCart=function addToCart(id,qty){var _ref;return function(_x,_x2){return(_ref=_ref||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,getState){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/products/\".concat(id));case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;// console.log(\"after fetching data\");\ndispatch({type:actionTypes.ADD_TO_CART,payload:{product:data._id,name:data.name,imageUrl:data.imageUrl,price:data.price,countInStock:data.countInStock,qty:qty}});localStorage.setItem('cart',JSON.stringify(getState().cart.cartItems));_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log('Error adding to cart:',_context.t0.message);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}))).apply(this,arguments);};};export var addToServiceCart=function addToServiceCart(id,qty){var _ref2;return function(_x3,_x4){return(_ref2=_ref2||_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch,getState){var _yield$axios$get2,data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/api/services/\".concat(id));case 3:_yield$axios$get2=_context2.sent;data=_yield$axios$get2.data;// console.log(\"after fetching data\");\ndispatch({type:actionTypes.ADD_TO_SERVICE_CART,payload:{service:data._id,name:data.name,imageUrl:data.imageUrl,price:data.price,countInStock:data.countInStock,qty:qty}});localStorage.setItem('cart',JSON.stringify(getState().cart.cartItems));_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);console.log('Error adding to cart:',_context2.t0.message);case 12:case\"end\":return _context2.stop();}},_callee2,null,[[0,9]]);}))).apply(this,arguments);};};export var removeFromCart=function removeFromCart(id){return function(dispatch,getState){try{dispatch({type:actionTypes.REMOVE_FROM_CART,payload:id});localStorage.setItem('cart',JSON.stringify(getState().cart.cartItems));}catch(error){console.log('Error removing from cart:',error);}};};","map":{"version":3,"names":["actionTypes","axios","addToCart","id","qty","_ref","_x","_x2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","getState","_yield$axios$get","data","wrap","_callee$","_context","prev","next","get","concat","sent","type","ADD_TO_CART","payload","product","_id","name","imageUrl","price","countInStock","localStorage","setItem","JSON","stringify","cart","cartItems","t0","console","log","message","stop","apply","arguments","addToServiceCart","_ref2","_x3","_x4","_callee2","_yield$axios$get2","_callee2$","_context2","ADD_TO_SERVICE_CART","service","removeFromCart","REMOVE_FROM_CART","error"],"sources":["E:/Myweb/Digital_invoice/client/src/redux/actions/cartActions.js"],"sourcesContent":["// here we'll make the http request to our backend to get the product details and add it to the cart\r\nimport * as actionTypes from '../constants/cartConstants';\r\nimport axios from 'axios'; // will help us make our ajax requests\r\n\r\nexport const addToCart = (id, qty) => async (dispatch, getState) => {\r\n    // async (dispatch) is the return value of the function addToCart\r\n    try {\r\n        // console.log(\"before fetching data\");\r\n        // console.log(\"id \"+id);\r\n        const {data} = await axios.get(`/api/products/${id}`);\r\n        // console.log(\"after fetching data\");\r\n\r\n    dispatch({\r\n        type: actionTypes.ADD_TO_CART,\r\n        payload:{\r\n            product: data._id,\r\n            name: data.name,\r\n            imageUrl: data.imageUrl,\r\n            price:data.price,\r\n            countInStock: data.countInStock,\r\n            qty,\r\n        },\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(getState().cart.cartItems));\r\n    } catch (error) {\r\n        console.log('Error adding to cart:', error.message);\r\n    }\r\n}\r\n\r\nexport const addToServiceCart = (id, qty) => async (dispatch, getState) => {\r\n    // async (dispatch) is the return value of the function addToCart\r\n    try {\r\n        // console.log(\"before fetching data\");\r\n        // console.log(\"id \"+id);\r\n        const {data} = await axios.get(`/api/services/${id}`);\r\n        // console.log(\"after fetching data\");\r\n\r\n    dispatch({\r\n        type: actionTypes.ADD_TO_SERVICE_CART,\r\n        payload:{\r\n            service: data._id,\r\n            name: data.name,\r\n            imageUrl: data.imageUrl,\r\n            price:data.price,\r\n            countInStock: data.countInStock,\r\n            qty,\r\n        },\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(getState().cart.cartItems));\r\n    } catch (error) {\r\n        console.log('Error adding to cart:', error.message);\r\n    }\r\n}\r\n\r\nexport const removeFromCart = (id) => (dispatch,getState) =>{\r\n    try {\r\n        dispatch({\r\n            type: actionTypes.REMOVE_FROM_CART,\r\n            payload: id\r\n        });\r\n    \r\n        localStorage.setItem('cart',JSON.stringify(getState().cart.cartItems));\r\n    } catch (error) {\r\n        console.log('Error removing from cart:', error);\r\n    }\r\n    \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}