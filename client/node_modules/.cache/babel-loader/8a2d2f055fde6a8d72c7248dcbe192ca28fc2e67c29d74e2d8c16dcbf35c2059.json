{"ast":null,"code":"import _toConsumableArray from\"E:/Myweb/Digital_invoice/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"E:/Myweb/Digital_invoice/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./productpage.css';import{useParams,useNavigate}from'react-router-dom';import{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';// Actions\nimport{getProductsDetails}from'../../redux/actions/productActions';import{addToCart}from'../../redux/actions/cartActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Productpage=function Productpage(){var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();var productDetails=useSelector(function(state){return state.getProductsDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;useEffect(function(){if(product&&id!==product._id){dispatch(getProductsDetails(id));}},[dispatch,id,product]);var addToCartHandler=function addToCartHandler(){dispatch(addToCart(product._id,qty));navigate('/cart');};return/*#__PURE__*/_jsx(\"div\",{className:\"product_screen\",children:loading?/*#__PURE__*/_jsx(\"h2\",{children:\"Loading...\"}):error?/*#__PURE__*/_jsx(\"h2\",{children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product_left\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left_image\",children:/*#__PURE__*/_jsx(\"img\",{src:product.imageUrl,alt:product.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"left_info\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"left_name\",children:product.name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Product Price : \",product.price,\"$\"]}),/*#__PURE__*/_jsx(\"p\",{children:product.description})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product_right\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"right_info\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Price : \",/*#__PURE__*/_jsxs(\"span\",{children:[product.price*qty,\" $\"]}),product.price>1000&&product.price<=5000?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),\"Tax : \",/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"br\",{}),0.12*product.price,\" $\"]}),/*#__PURE__*/_jsx(\"br\",{}),\"Sub Total : \",/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"br\",{}),product.price*qty+0.12*product.price,\" $\"]})]}):product.price>5000?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),\"Tax :\",/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"br\",{}),0.18*product.price,\" $\"]}),/*#__PURE__*/_jsx(\"br\",{}),\"Sub Total : \",/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"br\",{}),product.price*qty+0.18*product.price,\" $\"]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"br\",{}),\"Tax : \",/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"br\",{}),200,\" $\"]}),/*#__PURE__*/_jsx(\"br\",{}),\"Sub Total : \",/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"br\",{}),product.price*qty+200,\" $\"]})]}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status : \",/*#__PURE__*/_jsx(\"span\",{children:product.countInStock>0?/*#__PURE__*/_jsx(_Fragment,{children:\"In Stock\"}):/*#__PURE__*/_jsx(_Fragment,{children:\"Not In Stock\"})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Qty :\",/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})]}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addToCartHandler,children:\"Add To Cart\"})})]})})]})});};export default Productpage;","map":{"version":3,"names":["React","useParams","useNavigate","useState","useEffect","useDispatch","useSelector","getProductsDetails","addToCart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Productpage","_useState","_useState2","_slicedToArray","qty","setQty","dispatch","_useParams","id","navigate","productDetails","state","loading","error","product","_id","addToCartHandler","className","children","src","imageUrl","alt","name","price","description","countInStock","value","onChange","e","target","_toConsumableArray","Array","keys","map","x","type","onClick"],"sources":["E:/Myweb/Digital_invoice/client/src/pages/productpage/Productpage.jsx"],"sourcesContent":["import React from 'react'\r\nimport './productpage.css'\r\nimport { useParams , useNavigate} from 'react-router-dom';\r\n\r\nimport { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n// Actions\r\nimport { getProductsDetails } from '../../redux/actions/productActions'\r\nimport { addToCart } from '../../redux/actions/cartActions'\r\n\r\n\r\nconst Productpage = () => {\r\n  const [qty, setQty] = useState(1);\r\n  const dispatch = useDispatch();\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n\r\n  const productDetails = useSelector((state) => state.getProductsDetails);\r\n\r\n  const {loading, error, product} = productDetails;\r\n\r\n  useEffect(()=>{\r\n    if(product && id!== product._id){\r\n      dispatch(getProductsDetails(id));\r\n    }\r\n  },[dispatch,id,product])\r\n\r\n  const addToCartHandler = () =>{\r\n        dispatch(addToCart(product._id, qty));\r\n        navigate('/cart');\r\n    } \r\n\r\n  return (\r\n    <div className='product_screen'>\r\n      {loading ? (\r\n        <h2>Loading...</h2>\r\n      ) : error ? (\r\n        <h2>{error}</h2>\r\n      ) : (\r\n        <>\r\n        <div className=\"product_left\">\r\n        <div className=\"left_image\">\r\n          <img src={product.imageUrl}alt={product.name} />\r\n        </div>\r\n        <div className=\"left_info\">\r\n          <p className='left_name'>{product.name}</p>\r\n          <p>\r\n\r\n            Product Price : {product.price}$ \r\n          \r\n          </p>\r\n          <p>{product.description}</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"product_right\">\r\n        <div className='right_info'>\r\n          <p>\r\n            Price : <span>{product.price*qty} $</span>\r\n           \r\n            {product.price > 1000 && product.price <=5000 ? (\r\n            <>\r\n            <br />\r\n            Tax : <span><br />{0.12*product.price} $</span> \r\n            <br />\r\n            Sub Total : <span><br />{product.price*qty + 0.12*product.price} $</span>\r\n            </>\r\n            )\r\n            :\r\n            product.price > 5000 ? (\r\n              <>\r\n              <br />\r\n            Tax :<span><br />{0.18*product.price} $</span>\r\n            <br />\r\n            Sub Total : <span><br />{product.price*qty + 0.18*product.price} $</span>\r\n            </>\r\n            )\r\n            :(\r\n            <>\r\n            <br />\r\n            Tax : <span><br />{200} $</span>\r\n            <br />\r\n            Sub Total : <span><br />{product.price*qty +200} $</span>\r\n            </>\r\n            )\r\n          }\r\n          <br />\r\n        </p>\r\n          <p>\r\n            Status : <span>{product.countInStock > 0 ? <>In Stock</> : <>Not In Stock</>}</span>\r\n          </p>\r\n          <p >\r\n            Qty :\r\n            <select value={qty} onChange={(e)=> setQty(e.target.value)} >\r\n              {[...Array(product.countInStock).keys()].map((x)=>(\r\n                <option key={x+1} value={x+1}>{x+1}</option>\r\n              ))}\r\n            </select>\r\n          </p>\r\n          <p>\r\n            <button type='button' onClick={addToCartHandler}>Add To Cart</button>\r\n          </p>\r\n        </div>\r\n      </div>\r\n        </>\r\n      )}\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Productpage\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}